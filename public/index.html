<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Playlick</title>
        <meta name="description" content="Create and import playlists, albums and podcasts">
        <meta name="keywords" content="playlist, music, album, last.fm, podcast, playlick, playdar, github">
        <link rel="stylesheet" href="/playlick.css">
    </head>
    <body>
        <div id="viewport">
            <div id="powered">
                <p>
                    <a href="http://www.playdar.org/" class="icon">
                        <img src="/playdar_logo_16x16.png" width="16" height="16">
                        <small>Playback powered by Playdar</small>
                    </a>
                </p>
                <p>
                    <small id="playdarStatus">Loading flash player…</small>
                </p>
            </div>
            <h1 id="title">
                <a href="/" id="titleLink">
                    <img src="/logo.gif" width="32" height="32" class="logo">
                    <!-- <img src="/logo2.png" width="31" height="33" class="logo2"> -->
                    Play<span>lick</span>
                </a>
                <small>Build and import playlists, albums and podcasts.</small>
            </h1>
            
            <div id="content">
                <div id="sm2-container"></div>
                
                <div id="sidebar">
                    <h1>Your playlists</h1>
                    <div class="sidebar_list">
                        <ul id="playlists">
                            <li><a href="#new" id="create_playlist" class="playlist">+ Create</a></li>
                            <li class="current"><a href="#import" id="import_playlist" class="playlist">+ Import</a></li>
                        </ul>
                        
                        <p id="loading_playlists">Loading playlists…</p>
                    </div>
                    <div class="sidebar_list">
                        <ul id="importers">
                            <li class="importer">
                                <form id="album_form">
                                    <label for="album_import_input">
                                        Add an Album (Last.fm Search)
                                        <br>
                                    </label>
                                    <input type="text" name="album" id="album_import_input" class="importer_input" autocomplete="off" placeholder="Search for an album…" />
                                    <input type="hidden" name="artist_name" id="album_import_artist" />
                                    <input type="hidden" name="album_name" id="album_import_name" />
                                    <input type="submit" id="album_button" value="Go" />
                                </form>
                                <p class="messages" id="album_loading"><img src="/track_scanning.gif" width="16" height="16"> Loading album…</p>
                                <p class="messages" id="album_done">Done! Album imported: <span id="album_name"></span></p>
                                <p class="messages" id="album_error"></p>
                            </li>
                            
                            <li class="importer">
                                <form id="lastfm_form">
                                    <label for="lastfm_input">
                                        Import your Last.fm playlists and Loved Tracks
                                        <br>
                                        <img src="lastfm_icon.gif" width="16" height="16" class="favicon">
                                    </label>
                                    <input type="text" name="username" id="lastfm_input" class="importer_input" placeholder="Last.fm username…" />
                                    <input type="submit" id="lastfm_button" value="Get ’em" />
                                </form>
                                
                                <p class="messages" id="lastfm_loading"><img src="/track_scanning.gif" width="16" height="16"> Loading playlists…</p>
                                <p class="messages" id="lastfm_error"></p>
                                <p class="messages" id="lastfm_import_error"></p>
                                <p class="messages" id="lastfm_imported">Done!</p>
                                
                                <form id="lastfm_playlists_form">
                                    <p class="messages" id="lastfm_done">
                                        <small id="lastfm_playlists_count"></small>
                                        <small>
                                            <a href="#" id="lastfm_playlists_all">All</a>
                                            <a href="#" id="lastfm_playlists_none">None</a>
                                        </small>
                                    </p>
                                    <p class="messages" id="lastfm_error_no_playlists">
                                        <input type="submit" value="Import Loved Tracks">
                                        <small>No playlists found</small>
                                    </p>
                                    <ul id="lastfm_playlists">
                                        <li class="header">&nbsp;<small>Tracks</small></li>
                                    </ul>
                                    <input type="submit" value="Import Playlists" class="submit">
                                </form>
                            </li>
                            
                            <li class="importer">
                                <form id="spotify_form">
                                    <label for="spotify_input">
                                        Add a Spotify Track/Album by URL
                                        <br>
                                        <img src="spotify_icon.gif" width="16" height="16" class="favicon">
                                    </label>
                                    <input type="text" name="url" id="spotify_input" class="importer_input" placeholder="Paste a URL…">
                                    <input type="submit" id="url_button" value="Go">
                                </form>
                                <p class="messages" id="spotify_loading"><img src="/track_scanning.gif" width="16" height="16"> Loading…</p>
                                <p class="messages" id="spotify_done">Done! Imported “<span id="spotify_title"></span>”</p>
                                <p class="messages" id="spotify_error"></p>
                            </li>
                            
                            <li class="importer">
                                <form id="url_form">
                                    <label for="url_input">
                                        Import an XSPF or Podcast
                                        <br>
                                        <img src="podcast_icon.gif" width="16" height="16" class="favicon">
                                    </label>
                                    <input type="text" name="url" id="url_input" class="importer_input" placeholder="Paste a URL…">
                                    <input type="submit" id="url_button" value="Go">
                                </form>
                                <p class="messages" id="url_loading"><img src="/track_scanning.gif" width="16" height="16"> Loading…</p>
                                <p class="messages" id="url_done">Done! Imported “<span id="url_title"></span>” (<span id="url_count"></span>)</p>
                                <p class="messages" id="url_error"></p>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div id="main">
                    <div id="manage">
                        <h1 id="playlistTitle">Create a new playlist</h1>
                        
                        <form id="add_to_playlist">
                            <label for="add_track_input">Add a Track:</label>
                            <input type="text" name="track" id="add_track_input" />
                            <input type="hidden" name="artist_name" id="add_track_artist" />
                            <input type="hidden" name="track_name" id="add_track_name" />
                            <input type="submit" id="add_track_button" value="Start a Playlist" />
                        </form>
                        
                        <p id="tracksLoading"><img src="/track_scanning.gif" width="16" height="16">Loading tracks…</p>
                        <p id="tracksError">Failed to load tracks. Please try again later.</p>
                        
                        <ol class="trackList" id="playlist"></ol>
                        
                        <a id="playlistApplescript" href="#">
                            <img src="/itunes.png" width="16" height="16">
                            Export&nbsp;to&nbsp;iTunes<br>
                            <small>Mac&nbsp;only&nbsp;applescript</small>
                        </a>
                        
                        <p id="shortcuts"><small>Keyboard shortcuts: &nbsp;&nbsp; <b>p</b> - play &nbsp;&nbsp; <b>]</b> - next track &nbsp;&nbsp; <b>[</b> - previous track</small></p>
                    </div>
                    
                    <div id="import">
                        <h2>The Last.fm Battle</h2>
                        <p>Generate a playlist based on shared artists between two Last.fm users.</p>
                        
                        <form id="lastfm_battle_form">
                            <img src="lastfm_icon.gif" width="16" height="16" class="favicon">
                            <input type="text" name="you" id="lastfm_battle_input_you" />
                            <label for="lastfm_battle_input_they">VS</label>
                            <input type="text" name="they" id="lastfm_battle_input_they" />
                            <input type="submit" id="lastfm_battle_button" value="Fight!" />
                        </form>
                        
                        <p class="messages" id="generate_loading"><img src="/track_scanning.gif" width="16" height="16"> Fetching tracks…</p>
                        <p class="messages" id="generate_done">Done!</p>
                        <p class="messages" id="generate_error"></p>
                    </div>
                </div>
                
                <div id="footer">
                    <a href="http://github.com/jwheare/playlick/tree/master">Playlick on github</a> |
                    Made by <a href="http://james.wheare.org/" rel="author">James Wheare</a>
                </div>
            </div>
        </div>
        
        <!-- jQuery -->
        <script src="/lib/jquery.js"></script>
        <script src="/lib/jquery-ui.js"></script>
        <script src="/lib/jquery.autocomplete.pack.js"></script>
        
        <!-- CouchDB -->
        <script src="/lib/couch.js"></script>
        
        <!-- Playdar -->
        <script src="/lib/playdar/playdar_compressed.js"></script>
        
        <!-- App -->
        <script src="/js/playlick.js"></script>
        
        <script>
            PLAYLICK.init();
            
            Playdar.setupClient(PLAYDAR.playdar_listeners);
            new Playdar.SM2Player(
                '/lib/sm2/script/soundmanager2-nodebug-jsmin.js',
                '/lib/sm2/swf/soundmanager2_flash9.swf',
                PLAYDAR.soundmanager_ready,
                {
                    debugMode: false
                }
            );
            
            Playdar.USE_STATUS_BAR = false;
            Playdar.MAX_CONCURRENT_RESOLUTIONS = 20;
            Playdar.auth_details.receiverurl = Playdar.Util.location_from_url("/playdar_auth.html").href;
        </script>
        
        <script type="text/javascript">
(function () {
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
})();
        </script>
        <script type="text/javascript">
(function () {
    try {
        var pageTracker = _gat._getTracker("UA-174601-6");
        pageTracker._trackPageview();
    } catch(err) {
        
    }
})();
        </script>
    </body>
</html>
